<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>How We Roll</title>
    <style>
      .form-container {
        display: block;
        text-align: center;
      }
      
      h1 {
        text-align: center;
      }
      button {
        background-color: royalblue;
        border: none;
        Color: black;
        Padding: 15px 32px;
        text-align: center;
        display: inline-block;
        font-size: 16px;
      }
    </style>
  </head>
  <body>
    <h1>HOW WE ROLL</h1>
    <div class=form-container>
      <form>
        <p>
          <label for="name">Navn:</label>
          <input type="text" name="Navn" id="name"><br>
        <!-- mornat - morgenfugl eller natteravn -->
          <label for="mornat">Er du en morgenfugl eller natteravn?:</label><br>
          <label for="mornat">Morgenfugl</label>
          <input type="range" id="mornat" name="mornat" min="0" max="10">
          <label for="mornat">Natteravn</label><br>
        <!-- alsa - alene eller sammen -->
          <label for="alsa">Liker du best å jobbe alene eller med andre?:</label><br>
          <label for="alsa">Jobbe med andre :)</label>
          <input type="range" id="alsa" name="alsa" min="0" max="10">
          <label for="alsa">Jobbe for seg selv :(</label><br>
        </p>
        <button type="submit">Submit form</button>
      </form>
      <div class="results">
        <h2>Form Data</h2>
        <pre></pre>
    </div>
    </div>
   <script>
      // From https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch (seen 2021-09-27)
      // Example POST method implementation using fetch:
      async function postData(url = '', data = {}) {
          // Default options are marked with *
          const response = await fetch(url, {
              method: 'POST', // *GET, POST, PUT, DELETE, etc.
              mode: 'cors', // no-cors, *cors, same-origin
              cache: 'no-cache', // *default, no-cache, reload, force-cache,only-if-cached
              credentials: 'same-origin', // include, *same-origin, omit
              headers: {
                  'Content-Type': 'application/json',
                   // 'Content-Type': 'application/x-www-form-urlencoded',
              },
              redirect: 'follow', // manual, *follow, error
              referrerPolicy: 'no-referrer', // no-referrer,*no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
              body: JSON.stringify(data) // body data type must match"Content-Type"header
          });
          return response.json(); // parses JSON response into native JavaScriptobjects
      }
   
      function handleSubmit(event) {
           event.preventDefault();
           const data = new FormData(event.target);
           const formJSON = Object.fromEntries(data.entries());
           const results = document.querySelector('.results pre');
           postData('https://bacit.info/', formJSON)
           .then(data => {
              results.innerText = JSON.stringify(data, null, 2);
           });
      }
      const form = document.querySelector('form');
      form.addEventListener('submit', handleSubmit); //kjører script når man trykker på knapp
     </script> 
  </body>
</html>
